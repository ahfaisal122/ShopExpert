

@using ShopEx.Models




<div class="container">

    <div class="text-center">

        <br/>
        <br/>
        <br/>

    </div>




    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        
            @using (ApplicationDbContext db = new ApplicationDbContext())
            {
                var ad = (from a in db.Advertisements
                          select a).ToList();

                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                @for(int i=1;i<ad.Count;i++)
                {

                    <!-- Indicators -->

                    string imreBase64Data = Convert.ToBase64String(ad[0].pics);
                    string imgDataURL = string.Format("data:image/png;base64,{0}", imreBase64Data);
                    ViewBag.url = imgDataURL;
                        <li data-target="#myCarousel" data-slide-to="@i"></li>
                  
                    <!-- Wrapper for slides -->

                   
        }
                </ol>
                <br />
                <br />
                <div class="carousel-inner">
                    <div class="item active">
                      
                        <img src="@ViewBag.url" alt="Chicago" style="width: 100%; max-height: 400px;">

                    </div>
                    @foreach (var a in ad)
    {               
        string imreBase64Data = Convert.ToBase64String(a.pics);
        string imgDataURL = string.Format("data:image/png;base64,{0}", imreBase64Data);

                <div class="item">
                    <img src="@imgDataURL" alt="Chicago" style="width: 100%; max-height: 400px;">

                </div>

}
                </div>
            }

            
       

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>



